# Выполнено ДЗ № 10
 - [+] Основное ДЗ: инвентори, модули и плейбук
 - [+] Дополнительное ДЗ: генерация JSON-инвентори

## В процессе сделано:
1. Установил Ansible
2. Написал inventory-файлы в различных форматах (ini, yaml, json (написал скрипт, который его формирует))
3. Сконфигурировал Ansible
4. Поигрался с различными модулями
5. Написал плейбук для установки git и клонирования reddit-репозитория
6. Написал скрипт, который генерирует JSON-инвентори с актуальными ip инстансов терраформа

## Как запустить проект:
```shell
cd .../XXX_infra/terraform/stage && terraform apply
cd .../XXX_infra/ansible && ansible-playbook clone.yml
```

## Как проверить работоспособность:
1. Команда `ansible all -m ping` вернет успешный результат
2. Команда `ansible app -m shell -a "ls ~/reddit"` вернет список файлов в reddit-репозитории

## Примечание
В скрипте для динамического формирования JSON-инвентори использовал `terraform output` для получения ip инстансов.
Но тесты ломались, потому что команда не работает на проверочной тачке.
Захардкодил значения, а хороший вариант закомменчен.
