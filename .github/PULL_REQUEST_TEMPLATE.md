# Выполнено ДЗ № 11
 - [+] Основное ДЗ: разные подходы к написанию плейбуков, создание образов с помощью плейбука

## В процессе сделано:
1. Написал один плейбук для всех инстансов с разбивкой по тегам (reddit_app_one_play.yml).
2. Разбил плейбук на три сценария: конфигурации бд и приложения, деплой приложения (reddit_app_multiple_plays.yml).
3. Разбил три сценария на три плейбука. Объединил их импорты в новом плейбуке (site.yml).
4. Сделал создание образов с помощью плейбуков (packer_app.yml, packer_db.yml).

## Как запустить проект:
```shell
cd .../XXX_infra/terraform/stage && terraform apply
cd .../XXX_infra/ansible && ansible-playbook site.yml
```

## Как запустить создание образов
```shell
packer build -var-file packer/variables.json packer/app.json
packer build -var-file packer/variables.json packer/db.json
```

## Как проверить работоспособность:
1. Открыть приложение в браузере: `<external_ip_address_app>:9292`
2. Создать запись, чтобы проверить коннект к бд

## Примечание
Внезапные поломанные тесты вылезают для следующей ветки, в которой я уже делаю следующее задание.
Попробую поправить удалением ветки.
